{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block widget %}
  {% if user and current_user.is_authenticated %}
  <!--USER CONTAINER-->
  <div id="user-container" class="outer-container">
    <div class="header-container">
	  <div class="header-left">
	    <div class="header-left-text">
		  <span>ABOUT YOU</span>
		</div>
	  </div>
	  <div class="header-right">
	    <div class="header-right-text">
		  <span>COLLAPSE </span>
		</div>
	  </div>
	</div>
	<div class="body-container">
	  <div class="profile-photo">
	    <img id="photo-img" src="{{ url_for('static', filename='profile.jpg') }}">
	  </div>
	  <div class="profile-content">
	    <div class="profile-username">
		  <div class="profile-data-header">{{  user.username  }}</div>
		  <a id="edit-profile-link" href="{{ url_for('profile') }}" >Edit Profile</a>
		</div>
		<div class="profile-fav-movie">
		  <div class="profile-data-title">Favorite Movie: </div>
		  <div class="profile-data-content">{{  user.fav_movie  }}</div>
		</div>
		<div class="profile-join-date">
		  <div class="profile-data-title">User Since: </div>
		  <div class="profile-data-content">{{  user.join_datetime  }}</div>
		</div>
		<div class="profile-points">
		  <div class="profile-data-title">Points: </div>
		  <div class="profile-data-content">{{  user.points  }}</div>
		</div>
		<div id="add-button-panel">
		  <a id="add-movie-button" role="button" href="{{ url_for('movie') }}" 
		  class="btn btn-primary add-button">Add Movie</a>
		  <a id="add-question-button" role="button" href="{{ url_for('question') }}" 
		  class="btn btn-primary add-button">Add Question</a>
		  <a id="add-answer-button add-button" role="button" href="{{ url_for('answer') }}" 
		  class="btn btn-primary add-button">Add Answer</a>
		</div>
	  </div>
	  <div class="post-info">
	  </div>
	</div>
  </div>
  <!--END USER CONTAINER-->
  {% endif %}
  
  {% if not user or not current_user.is_authenticated %}
  <!--NO USER CONTAINER-->
  <div class="outer-container">
    <div class="header-container">
	  <div class="header-left">
	    <div class="header-left-text">
		  <span>LOGIN</span>
		</div>
	  </div>
	  <div class="header-right">
	    <div class="header-right-text">
		  <span>COLLAPSE </span>
		</div>
	  </div>
	</div>
	<div class="body-container">
      <div id="right-inner" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        {{ wtf.quick_form(login, button_map={'login-submit':'primary'}, id="login-form") }}
      </div>
	</div>
  </div>
  <!--END NO USER CONTAINER-->
  {% endif %}
    
  <!--NO MOVIE CONTAINER-->
  <div id="no-movie-outer-container" class="outer-container">
    <div class="header-container">
	  <div class="header-left">
	    <div class="header-left-text">
		  <span class="no-movie">SELECT MOVIE</span>
		</div>
	  </div>
	  <div class="header-right">
	    <div class="header-right-text">
		  <span class="no-movie">COLLAPSE </span>
		</div>
	  </div>
	</div>
	<div class="body-container">
      <div id="right-inner" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        {{ wtf.quick_form(select, button_map={'movie-submit':'primary'}, id="select-movie-form") }}
      </div>
	</div>
  </div>
  <!--END NO MOVIE CONTAINER-->

  <!--MOVIE CONTAINER-->
  <div id="movie-outer-container" class="outer-container hidden">
    <div class="header-container">
	  <div class="header-left">
	    <div class="header-left-text">
		  <span class="hide-movie">MOVIE</span>
		</div>
	  </div>
	  <div class="header-right">
	    <div class="header-right-text">
		  <span class="hide-movie">COLLAPSE </span>
		</div>
	  </div>
	</div>
	<div class="body-container">
	  <div class="movie-photo">
	    <img id="movie-img" class="hide-movie" src="{{ url_for('static', filename='movie.jpg') }}">
	  </div>
	  <div class="movie-content">
	    <div class="movie-title">
		  <div id="movie-title" class="movie-data-header">TITLE</div>
		  <a id="edit-movie-link" class="hide-movie" href="#" >Edit Movie</a>
		</div>
		<div class="movie-directed-by">
		  <div class="movie-data-title">Directed By: </div>
		  <div id="directed-by" class="movie-data-content">DIRECTOR</div>
		</div>
		<div class="movie-release-date">
		  <div class="movie-data-title">Released on: </div>
		  <div id="released-on" class="movie-data-content">RELEASE</div>
		</div>
		<div class="movie-points">
		  <div class="movie-data-title">Points: </div>
		  <div id="movie-points-count" class="movie-data-content">POINTS</div>
		</div>
		<div id="movie-button-panel" class="hide-movie">
		  <a id="change-movie-button" class="hide-movie" role="button" href=""{{ url_for('static', filename='change_movie.js') }}"" 
		  class="btn btn-primary change-button">Change Movie</a>
		</div>
	  </div>
	  <div class="movie-recent-info">
	  </div>
	</div>
  </div>
  <!--END MOVIE CONTAINER-->

  <!--QUESTION CONTAINER-->
  <div id="question-container" class="outer-container hidden">
    <div class="header-container">
	  <div class="header-left">
	    <div class="header-left-text">
		  <span>QUESTIONS</span>
		</div>
	  </div>
	  <div class="header-right">
	    <div class="header-right-text">
		  <span>COLLAPSE </span>
		</div>
	  </div>
	</div>
	<div id="question-body-container" class="hidden">
	    <div id="q1-container" class="question-specific-container">
		  <div class="voting-points">
		    <div id="q1-points" class="points-variable">
		      POINTS
		    </div>
		  </div>
		  <div class="upvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-up gcau">
		    </div>
		  </div>
		  <div class="downvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-down gcad">
		    </div>
		  </div>
		  <div id="q1-content" class="question-content">
		    <div id="q1-text" class="question-variable">
		      TEXT
		    </div>
		  </div>
	    </div>
	    <div id="q2-container" class="question-specific-container hidden">
		  <div class="voting-points">
		    <div id="q2-points" class="points-variable">
		      POINTS
		    </div>
		  </div>
		  <div class="upvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-up gcau">
		    </div>
		  </div>
		  <div class="downvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-down gcad">
		    </div>
		  </div>
		  <div id="q2-content" class="question-content">
		    <div id="q2-text" class="question-variable">
		      TEXT
		    </div>
		  </div>
	    </div>
	    <div id="q3-container" class="question-specific-container hidden">
		  <div class="voting-points">
		    <div id="q3-points" class="points-variable">
		      POINTS
		    </div>
		  </div>
		  <div class="upvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-up gcau">
		    </div>
		  </div>
		  <div class="downvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-down gcad">
		    </div>
		  </div>
		  <div id="q3-content" class="question-content">
		    <div id="q3-text" class="question-variable">
		      TEXT
		    </div>
		  </div>
	    </div>
	    <div id="q4-container" class="question-specific-container hidden">
		  <div class="voting-points">
		    <div id="q4-points" class="points-variable">
		      POINTS
		    </div>
		  </div>
		  <div class="upvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-up gcau">
		    </div>
		  </div>
		  <div class="downvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-down gcad">
		    </div>
		  </div>
		  <div id="q4-content" class="question-content">
		    <div id="q4-text" class="question-variable">
		      TEXT
		    </div>
		  </div>
	    </div>
	    <div id="q5-container" class="question-specific-container hidden">
		  <div class="voting-points">
		    <div id="q5-points" class="points-variable">
		      POINTS
		    </div>
		  </div>
		  <div class="upvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-up gcau">
		    </div>
		  </div>
		  <div class="downvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-down gcad">
		    </div>
		  </div>
		  <div id="q5-content" class="question-content">
		    <div id="q5-text" class="question-variable">
		      TEXT
		    </div>
		  </div>
	    </div>
	</div>
  </div>
  <!--END QUESTION CONTAINER-->
  
  {% if answers %}
  <!--ANSWER CONTAINER-->
  <div id="answer-container" class="outer-container">
    <div class="header-container">
	  <div class="header-left">
	    <div class="header-left-text">
		  <span>ANSWERS</span>
		</div>
	  </div>
	  <div class="header-right">
	    <div class="header-right-text">
		  <span>COLLAPSE </span>
		</div>
	  </div>
	</div>
	<div id="question-body-container">
	  {% if answers[0] %}
	    <div class="question-specific-container">
		  <div class="voting-points">
		    <div class="points-variable">
		      {{  answers[0].points  }} points
		    </div>
		  </div>
		  <div class="upvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-up gcau">
		    </div>
		  </div>
		  <div class="downvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-down gcad">
		    </div>
		  </div>
		  <div id="a1-content" class="question-content">
		    <div class="question-variable">
		      {{  answers[0].answer_text }}
		    </div>
		  </div>
	    </div>
      {% endif %}
      {% if answers[1] %}
	    <div class="question-specific-container">
		  <div class="voting-points">
		    <div class="points-variable">
		      {{  answers[1].points  }} points
		    </div>
		  </div>
		  <div class="upvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-up gcau">
		    </div>
		  </div>
		  <div class="downvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-down gcad">
		    </div>
		  </div>
		  <div id="a2-content" class="question-content">
		    <div class="question-variable">
		      {{  answers[1].answer_text }}
		    </div>
		  </div>
	    </div>
      {% endif %}
	  {% if answers[2] %}
	    <div class="question-specific-container">
		  <div class="voting-points">
		    <div class="points-variable">
		      {{  answers[2].points  }} points
		    </div>
		  </div>
		  <div class="upvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-up gcau">
		    </div>
		  </div>
		  <div class="downvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-down gcad">
		    </div>
		  </div>
		  <div id="a3-content" class="question-content">
		    <div class="question-variable">
		      {{  answers[2].answer_text }}
		    </div>
		  </div>
	    </div>
      {% endif %}
	  {% if answers[3] %}
	    <div class="question-specific-container">
		  <div class="voting-points">
		    <div class="points-variable">
		      {{  answers[3].points  }} points
		    </div>
		  </div>
		  <div class="upvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-up gcau">
		    </div>
		  </div>
		  <div class="downvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-down gcad">
		    </div>
		  </div>
		  <div id="a4-content" class="question-content">
		    <div class="question-variable">
		      {{  answers[3].answer_text }}
		    </div>
		  </div>
	    </div>
      {% endif %}
	  {% if answers[4] %}
	    <div class="question-specific-container">
		  <div class="voting-points">
		    <div class="points-variable">
		      {{  answers[4].points  }} points
		    </div>
		  </div>
		  <div class="upvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-up gcau">
		    </div>
		  </div>
		  <div class="downvote-arrow">
		    <div class="glyphicon glyphicon-circle-arrow-down gcad">
		    </div>
		  </div>
		  <div id="a5-content" class="question-content">
		    <div class="question-variable">
		      {{  answers[4].answer_text }}
		    </div>
		  </div>
	    </div>
      {% endif %}
	</div>
  </div>
  <!--END ANSWER CONTAINER-->
  {% endif %}
{% endblock %}

{% block scripts %}
{{ super() }}
  <script type=text/javascript src="{{ url_for('static', filename='select_movie.js') }}"></script>
{% endblock %}